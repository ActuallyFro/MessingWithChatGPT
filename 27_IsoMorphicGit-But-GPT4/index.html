<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Isomorphic-git SPA</title>
  <script src="https://unpkg.com/isomorphic-git"></script>
  <script src="https://unpkg.com/browserfs"></script>
</head>
<body>
  <script>
    // Configure BrowserFS and isomorphic-git
    BrowserFS.configure({ fs: 'InMemory' }, function (err) {
      if (err) return console.log(err);

      const fs = BrowserFS.BFSRequire('fs');
      const dir = '/tutorial';
      
      (async function() {
        // Initialize git
        await git.init({ fs, dir });

        // Write a bash script
        fs.writeFileSync(`${dir}/hello.sh`, '#!/bin/bash\necho "Hello, world!"');

        // Add the file to git
        await git.add({ fs, dir, filepath: 'hello.sh' });

        // Commit the file
        await git.commit({
          fs,
          dir,
          author: { name: 'Your Name', email: 'you@example.com' },
          message: 'Initial commit: Add hello.sh'
        });

        // Get the commit history
        const commits = await git.log({ fs, dir, depth: 5, ref: 'master' });

        // Print the commit history
        for (const commit of commits) {
          console.log(`${commit.oid.substring(0, 7)} ${commit.commit.message}`);
        }
      })();
    });
  </script>
</body>
</html>
